name: Publish

on:
  push:
    branches:
      - main
      - release
  workflow_dispatch:

concurrency: release

jobs:
  # ci:
  # ... (commented out)

  # build:
  # ... (commented out)

  # release:
  # ... (commented out)

  generate-publish-docs:
    name: Publish docs
    # ‚ùå REMOVED: needs: build
    if: github.ref_name == 'release'
    uses: ./.github/workflows/gh-pages.yml
    secrets:
      BOT_ID: ${{ secrets.BOT_ID }}
      BOT_SK: ${{ secrets.BOT_SK }}
    # NOTE: This job will now run automatically when the 'if' condition is met,
    # without waiting for any preceding job.
